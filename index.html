
<!-- saved from url=(0081)file:///Users/yemimafernandoj/Documents/GitHub/web-push/test/data/demo/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sample Service Worker Example</title>

	<script type="text/javascript">
	var moeDataCenter = "dc_1"; // Replace "DC" with the actual Data center value from the above table
	var moeAppID = "9KCPEMI0VCTUDJO3X4FR2A8I"; // Replace "AppID" available in the settings page of MoEngage Dashboard.	      
	!function(e,n,i,t,a,r,o,d){if(!moeDataCenter||!moeDataCenter.match(/^dc_[0-9]+$/gm))return console.error("Data center has not been passed correctly. Please follow the SDK installation instruction carefully.");var s=e[a]=e[a]||[];if(s.invoked=0,s.initialised>0||s.invoked>0)return console.error("MoEngage Web SDK initialised multiple times. Please integrate the Web SDK only once!"),!1;e.moengage_object=a;var l={},g=function n(i){return function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];(e.moengage_q=e.moengage_q||[]).push({f:i,a:t})}},u=["track_event","add_user_attribute","add_first_name","add_last_name","add_email","add_mobile","add_user_name","add_gender","add_birthday","destroy_session","add_unique_user_id","update_unique_user_id","moe_events","call_web_push","track","location_type_attribute"],m={onsite:["getData","registerCallback"]};for(var c in u)l[u[c]]=g(u[c]);for(var v in m)for(var f in m[v])null==l[v]&&(l[v]={}),l[v][m[v][f]]=g(v+"."+m[v][f]);r=n.createElement(i),o=n.getElementsByTagName("head")[0],r.async=1,r.src=t,o.appendChild(r),e.moe=e.moe||function(){return(s.invoked=s.invoked+1,s.invoked>1)?(console.error("MoEngage Web SDK initialised multiple times. Please integrate the Web SDK only once!"),!1):(d=arguments.length<=0?void 0:arguments[0],l)},r.addEventListener("load",function(){if(d)return e[a]=e.moe(d),e[a].initialised=e[a].initialised+1||1,!0}),r.addEventListener("error",function(){return console.error("Moengage Web SDK loading failed."),!1})}(window,document,"script","https://cdn.moengage.com/release/"+moeDataCenter+"/moe_webSdk.min.latest.js","Moengage");
	 
	Moengage = moe({
	  app_id: "9KCPEMI0VCTUDJO3X4FR2A8I",
	  debug_logs: 1,
	  swPath: "/service-worker.js",
	  swScope: '/'
	});
	</script>
	 
	<script type="text/javascript">
Moengage = moe(
{
  app_id: "9KCPEMI0VCTUDJO3X4FR2A8I"
});

                Moengage.call_web_push({
                    "soft_ask": true,
                    "main_class": "moe-main-class",
                    "allow_class": "moe-allow-class",
                    "block_class": "moe-block-class"
                });
            
        }
</script>

	  <!-- CSS for soft ask -->
	
	  <style>#subscription-floating-button{position: fixed; display: flex; justify-content:
	  center; align-items: center; left: 15px; bottom: 15px; width: 4em; height: 4em;
	  line-height: 6em; background-color: white; border-radius: 1000px; cursor: pointer;
	  box-shadow: 0 5px 20px rgba(0,0,0,.3);}#subscription-floating-button:before{content:
	  ""; position: absolute; left: 5px; top: 5px; bottom: 5px; right: 5px; border:
	  solid 2px #e54b4d; border-radius: 100%; opacity: .7;}#subscription-floating-button
	  img{max-width: 70%;}#subscription-floating-button #tooltip{position: absolute;
	  left: calc(100% + 15px); top: 50%; transform: translateY(-50%); line-height:
	  normal; white-space: nowrap; background-color: #000; color: white; font-family:
	  sans-serif; font-size: 14px; padding:.8em; border-radius: 5px; opacity: 0; -webkit-font-smoothing:
	  antialiased; transition: all .3s; pointer-events: none;}#subscription-floating-button
	  #tooltip:before{content: ""; position: absolute; width: 15px; height: 15px; background-color:
	  #000; left: -7px; top: 50%; margin-top: -8px; transform: rotate(45deg); user-select:
	  none;}#subscription-floating-button:hover img{animation: shake 0.82s cubic-bezier(.36,.07,.19,.97)
	  both;}#subscription-floating-button:hover #tooltip{opacity: 1;}@keyframes shake{10%,
	  90%{transform: rotate(-2deg);}20%, 80%{transform: rotate(3deg);}30%, 50%, 70%{transform:
	  rotate(-5deg);}40%, 60%{transform: rotate(5deg);}}</style>



</head>
<body>
  <h1>Sample Service Worker Example</h1>
  <p>This is a sample HTML file with a basic service worker setup.</p>

  <!-- Register Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    } else {
      console.log('Service Worker is not supported in this browser.');
    }
  </script>
<div class="moe-main-class" style="display:none;">
Recieve Notifications ?
<button class="moe-allow-class">YES</button>
<button class="moe-block-class>NO</button>
</div>

</body></html>
