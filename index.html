
<!-- saved from url=(0081)file:///Users/yemimafernandoj/Documents/GitHub/web-push/test/data/demo/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sample Service Worker Example</title>
	<script type="text/javascript" src="https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js>
	<script type="text/javascript">
Moengage = moe(
{
  app_id: "9KCPEMI0VCTUDJO3X4FR2A8I "
});
///call the function call_web_push with this object argument to make your Custom Soft-Ask visible
Moengage.call_web_push({
    "soft_ask":true,
    "main_class":"moe-main-class",
    "allow_class":"moe-allow-class",
    "block_class":"moe-block-class",
});
</script>

  	<script type="text/javascript">
	var moeDataCenter = "dc_1"; // Replace "DC" with the actual Data center value from the above table
	var moeAppID = "9KCPEMI0VCTUDJO3X4FR2A8I"; // Replace "AppID" available in the settings page of MoEngage Dashboard.	      
	!function(e,n,i,t,a,r,o,d){if(!moeDataCenter||!moeDataCenter.match(/^dc_[0-9]+$/gm))return console.error("Data center has not been passed correctly. Please follow the SDK installation instruction carefully.");var s=e[a]=e[a]||[];if(s.invoked=0,s.initialised>0||s.invoked>0)return console.error("MoEngage Web SDK initialised multiple times. Please integrate the Web SDK only once!"),!1;e.moengage_object=a;var l={},g=function n(i){return function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];(e.moengage_q=e.moengage_q||[]).push({f:i,a:t})}},u=["track_event","add_user_attribute","add_first_name","add_last_name","add_email","add_mobile","add_user_name","add_gender","add_birthday","destroy_session","add_unique_user_id","update_unique_user_id","moe_events","call_web_push","track","location_type_attribute"],m={onsite:["getData","registerCallback"]};for(var c in u)l[u[c]]=g(u[c]);for(var v in m)for(var f in m[v])null==l[v]&&(l[v]={}),l[v][m[v][f]]=g(v+"."+m[v][f]);r=n.createElement(i),o=n.getElementsByTagName("head")[0],r.async=1,r.src=t,o.appendChild(r),e.moe=e.moe||function(){return(s.invoked=s.invoked+1,s.invoked>1)?(console.error("MoEngage Web SDK initialised multiple times. Please integrate the Web SDK only once!"),!1):(d=arguments.length<=0?void 0:arguments[0],l)},r.addEventListener("load",function(){if(d)return e[a]=e.moe(d),e[a].initialised=e[a].initialised+1||1,!0}),r.addEventListener("error",function(){return console.error("Moengage Web SDK loading failed."),!1})}(window,document,"script","https://cdn.moengage.com/release/"+moeDataCenter+"/moe_webSdk.min.latest.js","Moengage");
	 
	Moengage = moe({
	  app_id: moeAppID,
	  debug_logs: 0,
	  swPath: "/service-worker.js",
	  swScope: '/'
	});
	</script>


</head>
<body>
  <h1>Sample Service Worker Example</h1>
  <p>This is a sample HTML file with a basic service worker setup.</p>
	<!-- Your Custom Soft Ask Div -->
<div class="moe-main-class" style="display:none;">
<div class="moe-chrome-style-notification moe-chrome-style-notification-safari"
data-rapid_height="50"><div class="moe-safari-notification-inner-wrapper"><div
  class="moe-notification-image-wrapper-safari">
  <img src="https://www.moengage.com/img/icon-web-push.png"></div>
  <div class="moe-text-wrapper-safari">
  <span class="moe-notification-title-safari">The website "Your Website"
  would like to send you awesome offers!</span>
  <p class="moe-notification-message-safari">Notifications can be turned
  off anytime from browser settings.</p></div>
  <div style="clear: both;">
  <div class="moe-modal-branding"><span><a href="https://moengage.com"
  target="_blank">Powered by </a></span><a href="https://moengage.com"
  target="_blank" style="text-decoration: none;"><img src="https://cdn.moengage.com/images/logo-dark.png"></a>
  </div>
  <div class="moe-button-wrapper">
  <button class="moe-chrome-style-notification-btn moe-btn-close moe-block-class">Don't
  Allow</button>
  <button class="moe-chrome-style-notification-btn moe-btn-allow moe-allow-class">Allow</button>
  </div><div style="clear:both"></div></div>
  </div></div></div>
 
  <!-- Styles for the Custom Soft Ask created above -->
  <style>.moe-modal-branding img {vertical-align: bottom!important;width:
  63px!important;height: 30px!important;padding-right: 2px!important;display: inline-block!important;margin-bottom:-9px;margin-left:-5px;}.moe-modal-branding
  span a {text-decoration: none!important;color: #000!important;font-size: 10px!important;line-height:
  1.2em!important;font-weight: 400!important;}.moe-modal-branding {float:left;font-size:
  10px;margin-top: -2px;font-family: Arial!important;line-height: 1.2em!important;}.moe-chrome-style-notification-safari{width:422px;top:1px;left:calc(50%
  - 211px);background-color:#FFFFFF;margin:0;padding:0}.moe-chrome-style-notification{box-shadow:0
  0 4px #888;font-size:11px;font-weight:400;position:fixed;z-index:2147483647}.moe-safari-notification-inner-wrapper{margin:0;padding:0
  20px 10px}.moe-notification-image-wrapper-safari{float:left;position:relative;margin:15px
  15px 0 0!important;padding:0!important;display:inline-block}.moe-chrome-style-notification-safari
  *{word-spacing:normal!important;letter-spacing:normal!important;font-family:"Open
  Sans",sans-serif!important}.moe-text-wrapper-safari{position:relative!important;padding:10px
  0 0!important;color:#000!important;text-align:left!important;margin:0!important;line-height:1.4em!important;display:inline-block!important;width:calc(100%
  - 80px)!important}.moe-notification-title-safari{margin-bottom:5px;text-align:left;font-size:14px;font-weight:700;line-height:1.4em;color:#000;font-family:"Open
  Sans",sans-serif}.moe-notification-message-safari{font-size:12px!important;line-height:1.4em!important;margin:10px
  0!important;padding:0!important;text-align:left!important;font-family:"Open Sans",sans-serif!important}.moe-chrome-style-notification
  .moe-button-wrapper{float:right!important;margin:0!important;padding:0!important}.moe-chrome-style-notification-safari
  .moe-chrome-style-notification-btn.moe-btn-close{background:#FFF!important;color:#000!important;border-color:#CCC!important;margin-right:20px!important;width:100px!important}.moe-chrome-style-notification-safari
  .moe-chrome-style-notification-btn{width:90px!important;height:26px!important;font-size:14px!important;cursor:pointer!important;line-height:1.1em!important;border-radius:4px!important;color:#fff!important;background:
  linear-gradient(to bottom,#23bd9f,#12ac8e)!important;border: 1px solid #12ac8e!important;display:inline-block!important;font-weight:400!important;margin:0!important;padding:5px!important;text-transform:none!important;box-sizing:border-box!important;font-family:Arial!important;text-shadow:none!important;box-shadow:none!important;white-space:nowrap!important}.moe-notification-image-wrapper-safari
  img{height:65px!important;width:65px!important}</style>

  <!-- Your content goes here -->

  <!-- Register Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    } else {
      console.log('Service Worker is not supported in this browser.');
    }
  </script>


</body></html>
